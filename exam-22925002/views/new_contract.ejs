<h1>Create New Contract</h1>

<form id="newContractForm" action="/contracts" method="post">
    <label for="contractDate">Contract Date:</label>
    <input type="date" name="contractDate" id="contractDate"><br><br>
    <label for="propertyAddress">Property Address:</label>
    <input type="text" name="propertyAddress" id="propertyAddress"><br><br>
    <label for="tenants">Tenants:</label>
    <div id="tenantFields">
        <div class="tenantField">
            <input type="text" name="tenants[]" class="tenantInput">
            <button type="button" class="removeTenantButton">Remove</button>
        </div>
    </div>
    <button type="button" id="addTenantButton">Add Tenant</button><br><br>
    <label for="landlord">Landlord:</label>
    <input type="text" name="landlord" id="landlord"><br><br>
    <label for="feeMonthly">Monthly Fee:</label>
    <input type="number" name="feeMonthly" id="feeMonthly"><br><br>
    <label for="propertyDoorNumber">Property Door Number:</label>
    <input type="number" name="propertyDoorNumber" id="propertyDoorNumber"><br><br>
    <label for="contractLength">Contract Length:</label>
    <select name="contractLength" id="contractLength">
        <option value="Month">Month</option>
        <option value="Year">Year</option>
        <option value="Permanent">Permanent</option>
    </select><br><br>
    <label for="propertyType">Property Type:</label>
    <select name="propertyType" id="propertyType">
        <option value="Apartment">Apartment</option>
        <option value="Semi-Detached">Semi-Detached</option>
        <option value="Detached">Detached</option>
        <option value="Bungalow">Bungalow</option>
    </select><br><br>
    <button type="submit">Create Contract</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const addTenantButton = document.getElementById('addTenantButton');
        const tenantFields = document.getElementById('tenantFields');

        addTenantButton.addEventListener('click', function () {
            if (tenantFields.children.length < 3) {
                const newTenantField = document.createElement('div');
                newTenantField.classList.add('tenantField');
                newTenantField.innerHTML = `
                    <input type="text" name="tenants[]" class="tenantInput">
                    <button type="button" class="removeTenantButton">Remove</button>
                `;
                tenantFields.appendChild(newTenantField);
            }
        });

        tenantFields.addEventListener('click', function (event) {
            if (event.target.classList.contains('removeTenantButton')) {
                event.target.parentElement.remove();
            }
        });
    });
</script>
